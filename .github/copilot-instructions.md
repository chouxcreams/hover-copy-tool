# GitHub Copilot 用の指示ファイル

このファイルは、Claude Code（claude.ai/code）がこのリポジトリのコードを扱う際のガイダンスを提供します。

## プロジェクト概要

本プロジェクト「hover-copy-tool」は、ユーザーが Web ページ上のリンクにホバーした際、正規表現を用いて URL の特定部分を抽出できるブラウザ拡張機能です。Chrome および Firefox 向けで、主に Web 開発者や QA エンジニアが URL から ID やパラメータを抽出する用途を想定しています。

## 現在の状況

- 日本語の詳細な PRD（製品要件定義書）が `docs/PRD.md` にあります
- Node.js 開発環境用の mise 設定あり

## 開発環境

本プロジェクトは Mise で開発環境を管理します：

- Node.js（最新版）
- Claude Code CLI ツール

開発環境のセットアップ：

```bash
mise install
```

## 想定アーキテクチャ

PRD に基づき、拡張機能は以下の構成要素から成ります：

### コアコンポーネント

- **コンテントスクリプト**：リンクのホバー検出と正規表現抽出を担当
- **ポップアップ UI**：正規表現パターン管理用の設定画面
- **バックグラウンドスクリプト**：拡張機能の状態や設定を管理
- **ホバーウィンドウ**：抽出結果とコピー機能を表示

### 主な機能

1. **URL パターン抽出**：ユーザー定義の正規表現で URL から部分文字列を抽出
2. **複数パターン対応**：複数の正規表現設定を保存・切り替え可能
3. **ホバーインターフェース**：非侵襲的なポップアップで抽出結果を表示
4. **クリップボード連携**：抽出文字列をユーザー確認の上コピー
5. **クロスブラウザ対応**：Chrome と Firefox をサポート

## ファイル構成

- `manifest.json` - 拡張機能マニフェスト
- `src/` - ソースコードディレクトリ
  - `content/` - Web ページ連携用コンテントスクリプト
  - `popup/` - 拡張機能ポップアップ UI
  - `background/` - バックグラウンドスクリプト
- `package.json` - Node.js 依存関係・ビルドスクリプト
- ビルド設定（webpack/rollup）
- テストフレームワーク設定

## 開発メモ

- PRD は日本語で詳細な機能仕様を記載
- 多数のリンクがあるページでもパフォーマンス重視
- ユーザー定義正規表現のセキュリティ考慮
- ホバーウィンドウ・設定ポップアップとも直感的な UI 設計
